name: Generate release
description: 'Generate next release version and notes'
author: Alexey Chekulaev
inputs:
  changelog-path:
    description: 'CHANGELOG.md file path. Pass empty string to disable changelog generation'
    default: CHANGELOG.md
    required: false
  tag-format:
    description: 'Tag format. Default: v${version}'
    default: v${version}
    required: false

runs:
  using: 'node20'
  main: 'dist/index.js'

outputs:
  next_version:
    description: 'The next release version generated by the action based on commits since last release tag'
  notes:
    description: 'Release notes generated by the action based on commits since last release tag'

# Node 20 is max as of June 2025
# https://docs.github.com/en/actions/sharing-automations/creating-actions/creating-a-javascript-action
# https://docs.github.com/en/actions/sharing-automations/creating-actions/metadata-syntax-for-github-actions
